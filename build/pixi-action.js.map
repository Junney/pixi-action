{"version":3,"sources":["webpack:///build/pixi-action.js","webpack:///webpack/bootstrap 3b834061fc4f078a93cc","webpack:///external \"PIXI\"","webpack:///./src/Action.js","webpack:///./src/ActionManager.js","webpack:///./src/ActionMove.js","webpack:///./src/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","PIXI","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Action","this","time","x","y","scale_x","scale_y","skew","tint","rotation","sprite","delta","deltaMS","default","_interopRequireDefault","obj","__esModule","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_pixi","_pixi2","Animation","_PIXI$utils$EventEmit","action","_this","getPrototypeOf","_id","Math","random","Date","getTime","_started","_ended","_active","emit","update","utils","EventEmitter","ActionManager","actions","_actionsToDelete","_last","_getDeltaMS","animation","isEnded","push","_remove","now","MoveBy","MoveTo","undefined","_Action3","_Action4","_Action","pos","position","speed_x","speed_y","_Action2","_this2","tx","ty","_ActionManager","_ActionManager2","_ActionMove","actionManager"],"mappings":"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","file":"build/pixi-action.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(5);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = PIXI;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Action = function () {\n\t  function Action() {\n\t    _classCallCheck(this, Action);\n\t\n\t    this.time = 1;\n\t    this.x = null;\n\t    this.y = null;\n\t    this.scale_x = null;\n\t    this.scale_y = null;\n\t    this.skew = null;\n\t    this.tint = null;\n\t    this.rotation = null;\n\t\n\t    // this.end = false;\n\t  }\n\t\n\t  _createClass(Action, [{\n\t    key: \"reset\",\n\t    value: function reset() {\n\t      this.time = 1;\n\t      this.x = null;\n\t      this.y = null;\n\t      this.scale_x = null;\n\t      this.scale_y = null;\n\t      this.skew = null;\n\t      this.tint = null;\n\t      this.rotation = null;\n\t    }\n\t    // if end return true, if not end return false\n\t\n\t  }, {\n\t    key: \"update\",\n\t    value: function update(sprite, delta, deltaMS) {\n\t      // need to be override.\n\t      if (!sprite) throw \"action obejct is not valid.\";\n\t    }\n\t  }]);\n\t\n\t  return Action;\n\t}();\n\t\n\texports.default = Action;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _pixi = __webpack_require__(1);\n\t\n\tvar _pixi2 = _interopRequireDefault(_pixi);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Animation = function (_PIXI$utils$EventEmit) {\n\t  _inherits(Animation, _PIXI$utils$EventEmit);\n\t\n\t  function Animation(sprite, action) {\n\t    _classCallCheck(this, Animation);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Animation.__proto__ || Object.getPrototypeOf(Animation)).call(this));\n\t\n\t    _this._id = Math.random() + new Date().getTime() + '';\n\t    _this.sprite = sprite;\n\t    _this.action = action;\n\t\n\t    _this._started = false;\n\t    _this._ended = false;\n\t    _this._active = false;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Animation, [{\n\t    key: 'update',\n\t    value: function update(delta, deltaMS) {\n\t      if (!this._started) {\n\t        // start event\n\t        this.emit('start', deltaMS);\n\t        this._started = true;\n\t        this._active = true;\n\t      }\n\t\n\t      // do some update\n\t      this._ended = this.action.update(this.sprite, delta, deltaMS);\n\t\n\t      if (this._ended && this._active) {\n\t        // end event\n\t        this.emit('end', deltaMS);\n\t        this._active = false;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'isEnded',\n\t    value: function isEnded() {\n\t      return this._ended;\n\t    }\n\t  }]);\n\t\n\t  return Animation;\n\t}(_pixi2.default.utils.EventEmitter);\n\t\n\tvar ActionManager = function () {\n\t  function ActionManager() {\n\t    _classCallCheck(this, ActionManager);\n\t\n\t    this.actions = {}; // the actions need to be done.\n\t    this._actionsToDelete = [];\n\t\n\t    this._last = 0;\n\t  }\n\t\n\t  _createClass(ActionManager, [{\n\t    key: 'update',\n\t    value: function update(delta) {\n\t      var deltaMS = void 0;\n\t      // calculate deltaMS\n\t      if (!delta && delta !== 0) {\n\t        // 如果没有指定 delta 时间\n\t        deltaMS = this._getDeltaMS();\n\t        delta = deltaMS / 1000;\n\t      } else {\n\t        // 如果指定时间，则直接使用\n\t        deltaMS = delta * 1000;\n\t      }\n\t      // 先循环执行动作.\n\t      for (var _id in this.actions) {\n\t        var animation = this.actions[_id];\n\t        // 更新 action\n\t        animation.update(delta, deltaMS);\n\t        // if action is end, remove it.\n\t        if (animation.isEnded()) {\n\t          this._actionsToDelete.push(animation);\n\t        }\n\t      }\n\t\n\t      // 后删除已经结束，或者终止的动作\n\t      if (this._actionsToDelete.length) {\n\t        for (var i = 0; i < this._actionsToDelete.length; i++) {\n\t          this._remove(this._actionsToDelete[i]);\n\t        }\n\t        this._actionsToDelete.length = 0;\n\t      }\n\t    }\n\t\n\t    // run action\n\t\n\t  }, {\n\t    key: 'runAction',\n\t    value: function runAction(sprite, action) {\n\t      // add into actions to be done.\n\t      var animation = new Animation(sprite, action);\n\t      this.actions[animation._id] = animation;\n\t      return animation;\n\t    }\n\t\n\t    // cancel action\n\t\n\t  }, {\n\t    key: 'cancelAction',\n\t    value: function cancelAction(animation) {\n\t      // add into to be deleted.\n\t      this._actionsToDelete.push(animation);\n\t    }\n\t  }, {\n\t    key: '_remove',\n\t    value: function _remove(animation) {\n\t      delete this.actions[animation._id];\n\t    }\n\t\n\t    // 获得两个 frame 之间的时间，用于后续进行动作计算\n\t\n\t  }, {\n\t    key: '_getDeltaMS',\n\t    value: function _getDeltaMS() {\n\t      if (this._last === 0) this._last = Date.now();\n\t      var now = Date.now();\n\t      var deltaMS = now - this._last;\n\t      this._last = now;\n\t      return deltaMS;\n\t    }\n\t  }]);\n\t\n\t  return ActionManager;\n\t}();\n\t\n\texports.default = ActionManager;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.MoveBy = exports.MoveTo = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Action3 = __webpack_require__(2);\n\t\n\tvar _Action4 = _interopRequireDefault(_Action3);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar MoveTo = exports.MoveTo = function (_Action) {\n\t  _inherits(MoveTo, _Action);\n\t\n\t  function MoveTo(x, y, time) {\n\t    _classCallCheck(this, MoveTo);\n\t\n\t    var _this = _possibleConstructorReturn(this, (MoveTo.__proto__ || Object.getPrototypeOf(MoveTo)).call(this));\n\t\n\t    _this.time = time * 1000;\n\t    _this.x = x;\n\t    _this.y = y;\n\t    return _this;\n\t  }\n\t  // if end return true, if not end return false\n\t\n\t\n\t  _createClass(MoveTo, [{\n\t    key: 'update',\n\t    value: function update(sprite, delta, deltaMS) {\n\t      // 最终的动画逻辑\n\t      var pos = sprite.position;\n\t      var speed_x = (this.x - pos.x) / this.time * deltaMS;\n\t      var speed_y = (this.y - pos.y) / this.time * deltaMS;\n\t\n\t      sprite.x += speed_x;\n\t      sprite.y += speed_y;\n\t\n\t      this.time -= deltaMS;\n\t      // return true / false: ended / not end\n\t      if (this.time < 0) {\n\t        sprite.x = this.x;\n\t        sprite.y = this.y;\n\t        return true;\n\t      }\n\t      return false;\n\t    }\n\t  }]);\n\t\n\t  return MoveTo;\n\t}(_Action4.default);\n\t\n\tvar MoveBy = exports.MoveBy = function (_Action2) {\n\t  _inherits(MoveBy, _Action2);\n\t\n\t  function MoveBy(x, y, time) {\n\t    _classCallCheck(this, MoveBy);\n\t\n\t    var _this2 = _possibleConstructorReturn(this, (MoveBy.__proto__ || Object.getPrototypeOf(MoveBy)).call(this));\n\t\n\t    _this2.time = time * 1000;\n\t    _this2.x = x;\n\t    _this2.y = y;\n\t\n\t    _this2.tx = null; // target x\n\t    _this2.ty = null; // target y\n\t    return _this2;\n\t  }\n\t  // if end return true, if not end return false\n\t\n\t\n\t  _createClass(MoveBy, [{\n\t    key: 'update',\n\t    value: function update(sprite, delta, deltaMS) {\n\t      var pos = sprite.position;\n\t      if (this.tx === null || this.ty === null) {\n\t        this.tx = pos.x + this.x;\n\t        this.ty = pos.y + this.y;\n\t      }\n\t\n\t      var speed_x = (this.tx - pos.x) / this.time * deltaMS;\n\t      var speed_y = (this.ty - pos.y) / this.time * deltaMS;\n\t\n\t      sprite.x += speed_x;\n\t      sprite.y += speed_y;\n\t\n\t      this.time -= deltaMS;\n\t      // return true / false: ended / not end\n\t      if (this.time < 0) {\n\t        sprite.x = this.tx;\n\t        sprite.y = this.ty;\n\t        return true;\n\t      }\n\t      return false;\n\t    }\n\t  }]);\n\t\n\t  return MoveBy;\n\t}(_Action4.default);\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pixi = __webpack_require__(1);\n\t\n\tvar _pixi2 = _interopRequireDefault(_pixi);\n\t\n\tvar _ActionManager = __webpack_require__(3);\n\t\n\tvar _ActionManager2 = _interopRequireDefault(_ActionManager);\n\t\n\tvar _ActionMove = __webpack_require__(4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar action = {\n\t  ActionManager: _ActionManager2.default,\n\t  MoveTo: _ActionMove.MoveTo,\n\t  MoveBy: _ActionMove.MoveBy\n\t};\n\t\n\tif (!_pixi2.default.actionManager) {\n\t  _pixi2.default.actionManager = new _ActionManager2.default();\n\t\n\t  _pixi2.default.action = action;\n\t}\n\texports.default = action;\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// build/pixi-action.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3b834061fc4f078a93cc","module.exports = PIXI;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"PIXI\"\n// module id = 1\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Action = function () {\n  function Action() {\n    _classCallCheck(this, Action);\n\n    this.time = 1;\n    this.x = null;\n    this.y = null;\n    this.scale_x = null;\n    this.scale_y = null;\n    this.skew = null;\n    this.tint = null;\n    this.rotation = null;\n\n    // this.end = false;\n  }\n\n  _createClass(Action, [{\n    key: \"reset\",\n    value: function reset() {\n      this.time = 1;\n      this.x = null;\n      this.y = null;\n      this.scale_x = null;\n      this.scale_y = null;\n      this.skew = null;\n      this.tint = null;\n      this.rotation = null;\n    }\n    // if end return true, if not end return false\n\n  }, {\n    key: \"update\",\n    value: function update(sprite, delta, deltaMS) {\n      // need to be override.\n      if (!sprite) throw \"action obejct is not valid.\";\n    }\n  }]);\n\n  return Action;\n}();\n\nexports.default = Action;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Action.js\n// module id = 2\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _pixi = require('pixi.js');\n\nvar _pixi2 = _interopRequireDefault(_pixi);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Animation = function (_PIXI$utils$EventEmit) {\n  _inherits(Animation, _PIXI$utils$EventEmit);\n\n  function Animation(sprite, action) {\n    _classCallCheck(this, Animation);\n\n    var _this = _possibleConstructorReturn(this, (Animation.__proto__ || Object.getPrototypeOf(Animation)).call(this));\n\n    _this._id = Math.random() + new Date().getTime() + '';\n    _this.sprite = sprite;\n    _this.action = action;\n\n    _this._started = false;\n    _this._ended = false;\n    _this._active = false;\n    return _this;\n  }\n\n  _createClass(Animation, [{\n    key: 'update',\n    value: function update(delta, deltaMS) {\n      if (!this._started) {\n        // start event\n        this.emit('start', deltaMS);\n        this._started = true;\n        this._active = true;\n      }\n\n      // do some update\n      this._ended = this.action.update(this.sprite, delta, deltaMS);\n\n      if (this._ended && this._active) {\n        // end event\n        this.emit('end', deltaMS);\n        this._active = false;\n      }\n    }\n  }, {\n    key: 'isEnded',\n    value: function isEnded() {\n      return this._ended;\n    }\n  }]);\n\n  return Animation;\n}(_pixi2.default.utils.EventEmitter);\n\nvar ActionManager = function () {\n  function ActionManager() {\n    _classCallCheck(this, ActionManager);\n\n    this.actions = {}; // the actions need to be done.\n    this._actionsToDelete = [];\n\n    this._last = 0;\n  }\n\n  _createClass(ActionManager, [{\n    key: 'update',\n    value: function update(delta) {\n      var deltaMS = void 0;\n      // calculate deltaMS\n      if (!delta && delta !== 0) {\n        // 如果没有指定 delta 时间\n        deltaMS = this._getDeltaMS();\n        delta = deltaMS / 1000;\n      } else {\n        // 如果指定时间，则直接使用\n        deltaMS = delta * 1000;\n      }\n      // 先循环执行动作.\n      for (var _id in this.actions) {\n        var animation = this.actions[_id];\n        // 更新 action\n        animation.update(delta, deltaMS);\n        // if action is end, remove it.\n        if (animation.isEnded()) {\n          this._actionsToDelete.push(animation);\n        }\n      }\n\n      // 后删除已经结束，或者终止的动作\n      if (this._actionsToDelete.length) {\n        for (var i = 0; i < this._actionsToDelete.length; i++) {\n          this._remove(this._actionsToDelete[i]);\n        }\n        this._actionsToDelete.length = 0;\n      }\n    }\n\n    // run action\n\n  }, {\n    key: 'runAction',\n    value: function runAction(sprite, action) {\n      // add into actions to be done.\n      var animation = new Animation(sprite, action);\n      this.actions[animation._id] = animation;\n      return animation;\n    }\n\n    // cancel action\n\n  }, {\n    key: 'cancelAction',\n    value: function cancelAction(animation) {\n      // add into to be deleted.\n      this._actionsToDelete.push(animation);\n    }\n  }, {\n    key: '_remove',\n    value: function _remove(animation) {\n      delete this.actions[animation._id];\n    }\n\n    // 获得两个 frame 之间的时间，用于后续进行动作计算\n\n  }, {\n    key: '_getDeltaMS',\n    value: function _getDeltaMS() {\n      if (this._last === 0) this._last = Date.now();\n      var now = Date.now();\n      var deltaMS = now - this._last;\n      this._last = now;\n      return deltaMS;\n    }\n  }]);\n\n  return ActionManager;\n}();\n\nexports.default = ActionManager;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ActionManager.js\n// module id = 3\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MoveBy = exports.MoveTo = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Action3 = require('./Action');\n\nvar _Action4 = _interopRequireDefault(_Action3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MoveTo = exports.MoveTo = function (_Action) {\n  _inherits(MoveTo, _Action);\n\n  function MoveTo(x, y, time) {\n    _classCallCheck(this, MoveTo);\n\n    var _this = _possibleConstructorReturn(this, (MoveTo.__proto__ || Object.getPrototypeOf(MoveTo)).call(this));\n\n    _this.time = time * 1000;\n    _this.x = x;\n    _this.y = y;\n    return _this;\n  }\n  // if end return true, if not end return false\n\n\n  _createClass(MoveTo, [{\n    key: 'update',\n    value: function update(sprite, delta, deltaMS) {\n      // 最终的动画逻辑\n      var pos = sprite.position;\n      var speed_x = (this.x - pos.x) / this.time * deltaMS;\n      var speed_y = (this.y - pos.y) / this.time * deltaMS;\n\n      sprite.x += speed_x;\n      sprite.y += speed_y;\n\n      this.time -= deltaMS;\n      // return true / false: ended / not end\n      if (this.time < 0) {\n        sprite.x = this.x;\n        sprite.y = this.y;\n        return true;\n      }\n      return false;\n    }\n  }]);\n\n  return MoveTo;\n}(_Action4.default);\n\nvar MoveBy = exports.MoveBy = function (_Action2) {\n  _inherits(MoveBy, _Action2);\n\n  function MoveBy(x, y, time) {\n    _classCallCheck(this, MoveBy);\n\n    var _this2 = _possibleConstructorReturn(this, (MoveBy.__proto__ || Object.getPrototypeOf(MoveBy)).call(this));\n\n    _this2.time = time * 1000;\n    _this2.x = x;\n    _this2.y = y;\n\n    _this2.tx = null; // target x\n    _this2.ty = null; // target y\n    return _this2;\n  }\n  // if end return true, if not end return false\n\n\n  _createClass(MoveBy, [{\n    key: 'update',\n    value: function update(sprite, delta, deltaMS) {\n      var pos = sprite.position;\n      if (this.tx === null || this.ty === null) {\n        this.tx = pos.x + this.x;\n        this.ty = pos.y + this.y;\n      }\n\n      var speed_x = (this.tx - pos.x) / this.time * deltaMS;\n      var speed_y = (this.ty - pos.y) / this.time * deltaMS;\n\n      sprite.x += speed_x;\n      sprite.y += speed_y;\n\n      this.time -= deltaMS;\n      // return true / false: ended / not end\n      if (this.time < 0) {\n        sprite.x = this.tx;\n        sprite.y = this.ty;\n        return true;\n      }\n      return false;\n    }\n  }]);\n\n  return MoveBy;\n}(_Action4.default);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ActionMove.js\n// module id = 4\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pixi = require('pixi.js');\n\nvar _pixi2 = _interopRequireDefault(_pixi);\n\nvar _ActionManager = require('./ActionManager');\n\nvar _ActionManager2 = _interopRequireDefault(_ActionManager);\n\nvar _ActionMove = require('./ActionMove');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar action = {\n  ActionManager: _ActionManager2.default,\n  MoveTo: _ActionMove.MoveTo,\n  MoveBy: _ActionMove.MoveBy\n};\n\nif (!_pixi2.default.actionManager) {\n  _pixi2.default.actionManager = new _ActionManager2.default();\n\n  _pixi2.default.action = action;\n}\nexports.default = action;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}